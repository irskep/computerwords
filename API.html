<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Computer Words: API</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="static/normalize.css" type="text/css" /><link rel="stylesheet" href="static/default.css" type="text/css" /><link rel="stylesheet" href="style.css" type="text/css" /><link rel="stylesheet" href="static/pygments.css" type="text/css" />
    </head>
    <body>
        <header id="pageheader">
            <a class="header-link" href="index.html"><h1>Computer Words <span class="project-version">v1.0a8</span></h1></a>
            <h2>A system for writing and publishing documentation</h2>
            <div id="navheader"><nav class='previous-page'><a href="how_it_works.html">&larr; How it works</a></nav><nav class='next-page'><a href="related_work.html">Related Work &rarr;</a></nav><div style="clear: both;"></div></div>
            <hr>
        </header>
        <main id="pagebody"><article><a href="#API" name="API" class='header-anchor'><h1>API</h1></a><!-- break out plugin into module- and class-level as a test --><p><section class='autodoc-module'><a href="#computerwords.plugin" name="computerwords.plugin" class='header-anchor'><h2><code><span class='autodoc-identifier'>computerwords.plugin</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/plugin.py#LNone'>src</a></h2></a><div class='autodoc-module-docstring-body'><a href="#Writing-a-plugin-for-Computer-Words" name="Writing-a-plugin-for-Computer-Words" class='header-anchor'><h3>Writing a plugin for Computer Words</h3></a><p>Summary: write a class inheriting from <code>computerwords.plugin.CWPlugin</code>, put it in a module accessible in <code>PYTHONPATH</code>, and add it to a list of module paths under the <code>&quot;plugins&quot;</code> key in your config file.</p><a href="#1-Inherit-from-CWPlugin" name="1-Inherit-from-CWPlugin" class='header-anchor'><h4>1. Inherit from <code>CWPlugin</code></h4></a><figure class='code'><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">computerwords.cwdom.nodes</span> <span class="kn">import</span> <span class="n">CWTagNode</span><span class="p">,</span> <span class="n">CWTextNode</span>
<span class="kn">from</span> <span class="nn">computerwords.plugin</span> <span class="kn">import</span> <span class="n">CWPlugin</span>

<span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">CWPlugin</span><span class="p">):</span>
    <span class="c1"># we want to add some things to the config file</span>
    <span class="n">CONFIG_NAMESPACE</span> <span class="o">=</span> <span class="s1">&#39;my_plugin&#39;</span>

    <span class="c1"># here are our default values</span>
    <span class="k">def</span> <span class="nf">get_default_config</span><span class="p">(</span><span class="n">sel</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;files_to_read&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

    <span class="c1"># override this method to write to the config after it has</span>
    <span class="c1"># been read</span>
    <span class="k">def</span> <span class="nf">postprocess_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">local_config</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;my_plugin&quot;</span><span class="p">]</span>
        <span class="n">local_config</span><span class="p">[</span><span class="s2">&quot;file_contents&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">local_config</span><span class="p">[</span><span class="s2">&quot;files_to_read&quot;</span><span class="p">]:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">local_config</span><span class="p">[</span><span class="s2">&quot;file_contents&quot;</span><span class="p">][</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="c1"># If you&#39;re writing a custom tag, this is where you</span>
    <span class="c1"># implement it.</span>
    <span class="k">def</span> <span class="nf">add_processors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">library</span><span class="p">):</span>
        <span class="nd">@library.processor</span><span class="p">(</span><span class="s1">&#39;under-construction&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">process_my_tag</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="n">tree</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="n">node</span><span class="p">,</span>
                <span class="n">CWTagNode</span><span class="p">(</span>
                    <span class="s1">&#39;marquee&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;under-construction&#39;</span><span class="p">},</span>
                    <span class="p">[</span><span class="n">CWTextNode</span><span class="p">(</span><span class="s1">&#39;Under Construction&#39;</span><span class="p">)]))</span>
</pre></div>
</figure><a href="#2-Put-your-plugin-in-PYTHONPATH" name="2-Put-your-plugin-in-PYTHONPATH" class='header-anchor'><h4>2. Put your plugin in <code>PYTHONPATH</code></h4></a><p>You can either install your plugin as a package or just add <code>PYTHONPATH=$PYTHONPATH:$PATH_TO_MODULE_DIR</code> in front of your invocation of <code>python -m computerwords</code>. Kind of like this:</p><figure class='code'><div class="highlight"><pre><span></span><span class="c1"># plugin file is at plugins/my_plugin.py</span>
<span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$PYTHONPATH</span>:./plugins <span class="se">\</span>
    python -m computerwords <span class="se">\</span>
        --conf docs/conf.json
</pre></div>
</figure><a href="#3-Add-your-plugin-to-the-config-file" name="3-Add-your-plugin-to-the-config-file" class='header-anchor'><h4>3. Add your plugin to the config file</h4></a><figure class='code'><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;plugins&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;my_plugin&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</figure><a href="#Things-that-might-help-you" name="Things-that-might-help-you" class='header-anchor'><h3>Things that might help you</h3></a><p>If you need to get content of a node&#x27;s subtree in the order it appears in the document, use <code>computerwords.cwdom.traversal.preorder_traversal()</code> to walk the tree. In the future, this will be made easier, but this solution should work for now, even if it&#x27;s slow.</p><p>You can store data on nodes. Each node has a <code>data</code> dict attribute.</p><p>You can also store data on the tree using the <code>tree.processor_data</code> dict.</p><a href="#Best-Practices" name="Best-Practices" class='header-anchor'><h3>Best Practices</h3></a><p>Do not mutate the node &quot;in place.&quot; Instead, create a copy, modify it, and replace the original. That way, any other processors that respond to changes in that node can run again.</p></div></section></p><p><section class='autodoc-class'><a href="#computerwords.plugin.CWPlugin" name="computerwords.plugin.CWPlugin" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWPlugin</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/plugin.py#L87'>src</a></h3></a><div class='autodoc-class-docstring-body'>Base class for all Computer Words plugins.</div></section><section class='autodoc-class_var'><a href="#computerwords.plugin.CWPlugin.CONFIG_NAMESPACE" name="computerwords.plugin.CWPlugin.CONFIG_NAMESPACE" class='header-anchor'><h4><code><span class='autodoc-identifier'>CONFIG_NAMESPACE</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/plugin.py#L93'>src</a></h4></a><div class='autodoc-class_var-docstring-body'>If you want to include custom information in the config file, specify a namespace for it to live under. For example, the HTML writer&#x27;s configuration is all under the <code>&quot;html&quot;</code> key.</div></section><section class='autodoc-method'><a href="#computerwords.plugin.CWPlugin.get_default_config" name="computerwords.plugin.CWPlugin.get_default_config" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_default_config</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/plugin.py#L95'>src</a></h4></a><div class='autodoc-method-docstring-body'>If you specified <code>CONFIG_NAMESPACE</code>, provide a default dictionary here</div></section><section class='autodoc-method'><a href="#computerwords.plugin.CWPlugin.add_processors" name="computerwords.plugin.CWPlugin.add_processors" class='header-anchor'><h4><code><span class='autodoc-identifier'>add_processors</span><span class='autodoc-arguments'>(library)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/plugin.py#L104'>src</a></h4></a><div class='autodoc-method-docstring-body'>Use <code>cwdom.library.Library.processor</code> to define transforms on the tree.</div></section></p><!-- for everything else, use include-children=true --><p><section class='autodoc-module'><a href="#computerwords.library" name="computerwords.library" class='header-anchor'><h2><code><span class='autodoc-identifier'>computerwords.library</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/library.py#LNone'>src</a></h2></a></section><section class='autodoc-class'><a href="#computerwords.library.Library" name="computerwords.library.Library" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>Library</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/library.py#L5'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>A collection of functions that can be applied to nodes. Each function is called a <i>processor</i> and applies to nodes with the given <i>name</i>.</p><p>As a user of Computer Words, you really only need to know about the <code>processor()</code> method.</p></div></section><section class='autodoc-method'><a href="#computerwords.library.Library.processor" name="computerwords.library.Library.processor" class='header-anchor'><h4><code><span class='autodoc-identifier'>processor</span><span class='autodoc-arguments'>(tag_name, p=None, before_others=False)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/library.py#L32'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Declare a function as a processor for nodes with name <i>tag_name</i>. May be used as a decorator or as a simple function call.</p><p>As a decorator:</p><figure class='code'><div class="highlight"><pre><span></span><span class="nd">@library.processor</span><span class="p">(</span><span class="s1">&#39;Text&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">reverse_text</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">replace_node</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">CWTextNode</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">text</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</figure><p>As a function:</p><figure class='code'><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reverse_text</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">replace_node</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">CWTextNode</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">text</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">library</span><span class="o">.</span><span class="n">processor</span><span class="p">(</span><span class="s1">&#39;Text&#39;</span><span class="p">,</span> <span class="n">reverse_text</span><span class="p">)</span>
</pre></div>
</figure></div></section></p><p><section class='autodoc-module'><a href="#computerwords.cwdom.CWTree" name="computerwords.cwdom.CWTree" class='header-anchor'><h2><code><span class='autodoc-identifier'>computerwords.cwdom.CWTree</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#LNone'>src</a></h2></a></section><section class='autodoc-class'><a href="#computerwords.cwdom.CWTree.CWTree" name="computerwords.cwdom.CWTree.CWTree" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWTree</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L16'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>The <code>CWTree</code> class models the tree of all documents and their contents. It allows you to traverse the tree in various ways and mutate it during some types of traversal.</p><p>Properties:</p><ul><li><p><code>root</code>: Root of the tree</p></li><li><p><code>env</code>: Dictionary containing information about how Computer Words was invoked and configured. Contains keys <code>output_dir</code>, which is a <code>pathlib</code> path to the root directory of output files, and <code>config</code>, which is a dict containing the fully resolved configuration.</p></li><li><p><code>processor_data</code>: Dict that you can use to store and retrieve arbitrary data during processing.</p></li></ul></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.get_document_path" name="computerwords.cwdom.CWTree.CWTree.get_document_path" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_document_path</span><span class='autodoc-arguments'>(document_id)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L48'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns the path of the source document matching <i>document_id</i></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.preorder_traversal" name="computerwords.cwdom.CWTree.CWTree.preorder_traversal" class='header-anchor'><h4><code><span class='autodoc-identifier'>preorder_traversal</span><span class='autodoc-arguments'>(node=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L55'>src</a></h4></a><div class='autodoc-method-docstring-body'>Shortcut for <code>computerwords.cwdom.traversal.preorder_traversal()</code> using the root</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.postorder_traversal" name="computerwords.cwdom.CWTree.CWTree.postorder_traversal" class='header-anchor'><h4><code><span class='autodoc-identifier'>postorder_traversal</span><span class='autodoc-arguments'>(node=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L60'>src</a></h4></a><div class='autodoc-method-docstring-body'>Shortcut for <code>computerwords.cwdom.traversal.postorder_traversal()</code> using the root</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.postorder_traversal_allowing_ancestor_mutations" name="computerwords.cwdom.CWTree.CWTree.postorder_traversal_allowing_ancestor_mutations" class='header-anchor'><h4><code><span class='autodoc-identifier'>postorder_traversal_allowing_ancestor_mutations</span><span class='autodoc-arguments'>(node=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L65'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Yields every node in the tree in post-order.</p><p>While iterating, you use the mutation methods on this class to mutate the tree.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.apply_library" name="computerwords.cwdom.CWTree.CWTree.apply_library" class='header-anchor'><h4><code><span class='autodoc-identifier'>apply_library</span><span class='autodoc-arguments'>(library, initial_data=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L128'>src</a></h4></a><div class='autodoc-method-docstring-body'>Run the processing algorithm on the tree using <code>library</code>. Technically public, but you probably have no use for this.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.mark_node_dirty" name="computerwords.cwdom.CWTree.CWTree.mark_node_dirty" class='header-anchor'><h4><code><span class='autodoc-identifier'>mark_node_dirty</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L146'>src</a></h4></a><div class='autodoc-method-docstring-body'>Ensure this node&#x27;s processors are run at some point in the future.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.mark_ancestors_dirty" name="computerwords.cwdom.CWTree.CWTree.mark_ancestors_dirty" class='header-anchor'><h4><code><span class='autodoc-identifier'>mark_ancestors_dirty</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L152'>src</a></h4></a><div class='autodoc-method-docstring-body'>Ensure this node&#x27;s ancestors&#x27; processors are run at some point in the future.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.get_is_node_dirty" name="computerwords.cwdom.CWTree.CWTree.get_is_node_dirty" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_is_node_dirty</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L165'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns <code>True</code> if the node is marked dirty.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.get_was_node_removed" name="computerwords.cwdom.CWTree.CWTree.get_was_node_removed" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_was_node_removed</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L169'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns <code>True</code> if the node was previously in the tree but has since been removed.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.wrap_node" name="computerwords.cwdom.CWTree.CWTree.wrap_node" class='header-anchor'><h4><code><span class='autodoc-identifier'>wrap_node</span><span class='autodoc-arguments'>(inner_node, outer_node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L189'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Add an ancestor between <code>inner_node</code> and its parent.</p><figure class='image graphviz-graph'><img src='feb95ae60ec9dc2b9f2054b152def6ee02df61c511aee72c4cdf08f3e997d2c8.svg'></img></figure><figure class='code'><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">wrap_node</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">))</span>
</pre></div>
</figure><figure class='image graphviz-graph'><img src='9581f7438580520edaff9d5e4c1bdd1faca73ed1854f842e91954b93f3180e86.svg'></img></figure><p><strong>Limitations</strong></p><ul><li><p><code>outer_node</code> may not have any existing children.</p></li></ul></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.replace_subtree" name="computerwords.cwdom.CWTree.CWTree.replace_subtree" class='header-anchor'><h4><code><span class='autodoc-identifier'>replace_subtree</span><span class='autodoc-arguments'>(old_node, new_node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L223'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Replace a node and all its children with another node and all its children.</p><figure class='image graphviz-graph'><img src='eb349db133af6094e63197705feadfbdb464cd24d2faed4f9ddd4fdd84b019cb.svg'></img></figure><figure class='code'><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">replace_subtree</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">),</span>
    <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">),</span>
<span class="p">]))</span>
</pre></div>
</figure><figure class='image graphviz-graph'><img src='f6833bbc0eb65e22486661e526c67db9ccabb0951cae32631b0e7de6f52bbf90.svg'></img></figure></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.insert_subtree" name="computerwords.cwdom.CWTree.CWTree.insert_subtree" class='header-anchor'><h4><code><span class='autodoc-identifier'>insert_subtree</span><span class='autodoc-arguments'>(parent, i, child)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L261'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Adds a note <code>child</code> and all its children as a child of <code>parent</code> at index <code>i</code>.</p><figure class='image graphviz-graph'><img src='2fc4981467d23324ad13f36eb2e8e1075c46265923480a6b2497ae05942d577e.svg'></img></figure><figure class='code'><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">insert_subtree</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
</pre></div>
</figure><figure class='image graphviz-graph'><img src='eee4b481b66a377a45c91c4fed163d7c76854680a33dd92e8fa93a710526bcdb.svg'></img></figure><p><strong>Limitations</strong> (may be temporary)</p><ul><li><p><code>parent</code> must be the active node or a descendant of it.</p></li></ul></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.add_siblings_ahead" name="computerwords.cwdom.CWTree.CWTree.add_siblings_ahead" class='header-anchor'><h4><code><span class='autodoc-identifier'>add_siblings_ahead</span><span class='autodoc-arguments'>(new_siblings)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L292'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Add <code>new_siblings</code> as children of the active node&#x27;s parent immediately after the active node.</p><p>This may be replaced by a more general method later.</p><figure class='image graphviz-graph'><img src='8c7032bc43c0ad71f5c822d085c7e62a59208c998e32e5bee373e345e39e5ee6.svg'></img></figure><figure class='code'><div class="highlight"><pre><span></span><span class="nd">@library.processor</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">process_b</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">add_siblings_ahead</span><span class="p">([</span><span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)])</span>
</pre></div>
</figure><figure class='image graphviz-graph'><img src='90f2d5737e3bf0695e72f1418c2eb61ece3f3981ed91d2c702795090ee12c81c.svg'></img></figure></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.replace_node" name="computerwords.cwdom.CWTree.CWTree.replace_node" class='header-anchor'><h4><code><span class='autodoc-identifier'>replace_node</span><span class='autodoc-arguments'>(old_node, new_node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L323'>src</a></h4></a><div class='autodoc-method-docstring-body'><p>Replace <code>old_node</code> with <code>new_node</code>. Give all of <code>old_node</code>&#x27;s children to <code>new_node</code>.</p><figure class='image graphviz-graph'><img src='d9ce16e3d774a2c20424f2957afa2fb565a25c5c3c60815630a83bd7bf10e3b7.svg'></img></figure><figure class='code'><div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">replace_node</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">))</span>
</pre></div>
</figure><figure class='image graphviz-graph'><img src='7ffc751d2d4411b7c8319de295c8ffaa3dec57806e59e457654b8e7921aca5e7.svg'></img></figure><p><strong>Limitations</strong> (may be temporary)</p><ul><li><p>May only be used on the active node.</p></li></ul></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.get_is_descendant" name="computerwords.cwdom.CWTree.CWTree.get_is_descendant" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_is_descendant</span><span class='autodoc-arguments'>(maybe_descendant, maybe_ancestor)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L358'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns <code>True</code> if <code>maybe_descendant</code> is a descendant of <code>maybe_ancestor</code>.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.text_to_ref_id" name="computerwords.cwdom.CWTree.CWTree.text_to_ref_id" class='header-anchor'><h4><code><span class='autodoc-identifier'>text_to_ref_id</span><span class='autodoc-arguments'>(text)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L369'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns a ref_id that is unique against all other ref_ids returned by this function, vaguely resembling <code>text</code></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.CWTree.CWTree.subtree_to_text" name="computerwords.cwdom.CWTree.CWTree.subtree_to_text" class='header-anchor'><h4><code><span class='autodoc-identifier'>subtree_to_text</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L383'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns a string of the concatenated text in a subtree</div></section><section class='autodoc-class'><a href="#computerwords.cwdom.CWTree.CWTreeConsistencyError" name="computerwords.cwdom.CWTree.CWTreeConsistencyError" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWTreeConsistencyError</span><span class='autodoc-arguments'>(Exception)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/CWTree.py#L392'>src</a></h3></a><div class='autodoc-class-docstring-body'>Error that is thrown if any of the limitations of <code>CWTree</code>&#x27;s methods are violated</div></section></p><p><section class='autodoc-module'><a href="#computerwords.cwdom.traversal" name="computerwords.cwdom.traversal" class='header-anchor'><h2><code><span class='autodoc-identifier'>computerwords.cwdom.traversal</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#LNone'>src</a></h2></a><div class='autodoc-module-docstring-body'>Utilities for traversing <code>CWNode</code> trees.</div></section><section class='autodoc-function'><a href="#computerwords.cwdom.traversal.preorder_traversal" name="computerwords.cwdom.traversal.preorder_traversal" class='header-anchor'><h3><code><span class='autodoc-keyword'>function </span><span class='autodoc-identifier'>preorder_traversal</span><span class='autodoc-arguments'>(node, start=None, end=None)</span><span class='autodoc-return-value'> &rarr; iterator(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L8'>src</a></h3></a><div class='autodoc-function-docstring-body'><p>Yields every node in the tree. Each node is yielded before its descendants. Mutation is disallowed.</p><ul><li><p><i>start</i>: If specified, only yield nodes following (not including) this node.</p></li><li><p><i>end</i>: If specified, do not yield this node or nodes following it.</p></li></ul></div></section><section class='autodoc-function'><a href="#computerwords.cwdom.traversal.postorder_traversal" name="computerwords.cwdom.traversal.postorder_traversal" class='header-anchor'><h3><code><span class='autodoc-keyword'>function </span><span class='autodoc-identifier'>postorder_traversal</span><span class='autodoc-arguments'>(node)</span><span class='autodoc-return-value'> &rarr; iterator(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L29'>src</a></h3></a><div class='autodoc-function-docstring-body'>Yields every node in the tree. Each node is yielded after its descendants. Mutation is disallowed.</div></section><section class='autodoc-function'><a href="#computerwords.cwdom.traversal.iterate_ancestors" name="computerwords.cwdom.traversal.iterate_ancestors" class='header-anchor'><h3><code><span class='autodoc-keyword'>function </span><span class='autodoc-identifier'>iterate_ancestors</span><span class='autodoc-arguments'>(node)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L46'>src</a></h3></a><div class='autodoc-function-docstring-body'><p>Yields every ancestor of a node, starting with its immediate parent.</p><figure class='code'><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">computerwords.cwdom.nodes</span> <span class="kn">import</span> <span class="n">CWNode</span>
<span class="kn">from</span> <span class="nn">computerwords.cwdom.traversal</span> <span class="kn">import</span> <span class="n">iterate_ancestors</span>
<span class="n">node_c</span> <span class="o">=</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="p">[])</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">node_c</span><span class="p">]),</span>
    <span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="p">[]),</span>
<span class="p">])</span>
<span class="k">assert</span> <span class="p">([</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">iterate_ancestors</span><span class="p">(</span><span class="n">node_c</span><span class="p">)]</span> <span class="o">==</span>
        <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span>
</pre></div>
</figure></div></section><section class='autodoc-function'><a href="#computerwords.cwdom.traversal.find_ancestor" name="computerwords.cwdom.traversal.find_ancestor" class='header-anchor'><h3><code><span class='autodoc-keyword'>function </span><span class='autodoc-identifier'>find_ancestor</span><span class='autodoc-arguments'>(node, predicate)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L68'>src</a></h3></a><div class='autodoc-function-docstring-body'><p>Returns the closest ancestor of a node matching the given predicate.</p><figure class='code'><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">computerwords.cwdom.traversal</span> <span class="kn">import</span> <span class="n">find_ancestor</span>
<span class="n">document_node</span> <span class="o">=</span> <span class="n">find_ancestor</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Document&#39;</span><span class="p">)</span>
</pre></div>
</figure></div></section><section class='autodoc-function'><a href="#computerwords.cwdom.traversal.visit_tree" name="computerwords.cwdom.traversal.visit_tree" class='header-anchor'><h3><code><span class='autodoc-keyword'>function </span><span class='autodoc-identifier'>visit_tree</span><span class='autodoc-arguments'>(tree, node_name_to_visitor, node=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L82'>src</a></h3></a><div class='autodoc-function-docstring-body'><p>Recursively call the <code>CWTreeVisitor</code> for each node. If a node is encountered that has no corresponding visitor, <code>MissingVisitorError</code> is thrown.</p><figure class='code'><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">computerwords.cwdom.CWTree</span> <span class="kn">import</span> <span class="n">CWTree</span>
<span class="kn">from</span> <span class="nn">computerwords.cwdom.traversal</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">visit_tree</span><span class="p">,</span>
    <span class="n">CWTreeVisitor</span>
<span class="p">)</span>

<span class="n">visits</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">class</span> <span class="nc">SimpleVisitor</span><span class="p">(</span><span class="n">CWTreeVisitor</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">before_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">visits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;pre-{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">after_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">visits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;post-{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

<span class="n">tree</span> <span class="o">=</span> <span class="n">CWTree</span><span class="p">(</span><span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">CWNode</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="p">[])]))</span>
<span class="n">visit_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">{</span>
    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">SimpleVisitor</span><span class="p">(),</span>
    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">SimpleVisitor</span><span class="p">(),</span>
<span class="p">})</span>
<span class="k">assert</span> <span class="n">visits</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;pre-x&#39;</span><span class="p">,</span> <span class="s1">&#39;pre-y&#39;</span><span class="p">,</span> <span class="s1">&#39;post-y&#39;</span><span class="p">,</span> <span class="s1">&#39;post-x&#39;</span><span class="p">]</span>
</pre></div>
</figure></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.traversal.MissingVisitorError" name="computerwords.cwdom.traversal.MissingVisitorError" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>MissingVisitorError</span><span class='autodoc-arguments'>(Exception)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L122'>src</a></h3></a><div class='autodoc-class-docstring-body'>Error thrown when trying to visit a node for which no visitor is available.</div></section><section class='autodoc-class'><a href="#computerwords.cwdom.traversal.PostorderTraverser" name="computerwords.cwdom.traversal.PostorderTraverser" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>PostorderTraverser</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L146'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>A class that lets you iterate over a tree while mutating it.</p><p>Keeps track of a <i>cursor</i> representing the last visited node. Each time the next node is requested, the iterator looks at the cursor and walks up the tree to find the cursor&#x27;s next sibling or parent.</p><p>You may replace the cursor if you want to replace the node currently being visited.</p><p>You may safely mutate the cursor&#x27;s ancestors, since they haven&#x27;t been visited yet.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.traversal.PostorderTraverser.replace_cursor" name="computerwords.cwdom.traversal.PostorderTraverser.replace_cursor" class='header-anchor'><h4><code><span class='autodoc-identifier'>replace_cursor</span><span class='autodoc-arguments'>(new_cursor)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/traversal.py#L166'>src</a></h4></a><div class='autodoc-method-docstring-body'>Only use this if you really know what you are doing.</div></section></p><p><section class='autodoc-module'><a href="#computerwords.cwdom.nodes" name="computerwords.cwdom.nodes" class='header-anchor'><h2><code><span class='autodoc-identifier'>computerwords.cwdom.nodes</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#LNone'>src</a></h2></a><div class='autodoc-module-docstring-body'><p>This module contains the nodes that make up the document tree.</p><a href="#Vocabulary" name="Vocabulary" class='header-anchor'><h3>Vocabulary</h3></a><ul><li><p><strong>Document ID, <code>document_id</code>, or <code>doc_id</code></strong>: a tuple of strings representing a document&#x27;s relative path to the root of the source files. For example, <code>(&#x27;api&#x27;, &#x27;index.md&#x27;)</code>.</p></li></ul></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWNode" name="computerwords.cwdom.nodes.CWNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWNode</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L31'>src</a></h3></a><div class='autodoc-class-docstring-body'>Superclass for all nodes. Unless you&#x27;re writing test cases, you&#x27;ll generally be dealing with subclasses of this.</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.__init__" name="computerwords.cwdom.nodes.CWNode.__init__" class='header-anchor'><h4><code><span class='autodoc-identifier'>__init__</span><span class='autodoc-arguments'>(name, children=None, document_id=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L35'>src</a></h4></a><div class='autodoc-method-docstring-body'><ul><li><p><code>name</code>: aka type or kind of node</p></li><li><p><code>children</code>: list of initial children</p></li><li><p><code>document_id</code>: document ID of the document in which this node resides. Usually assigned after initialization by <code>CWTree</code>.</p></li></ul></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.claim_children" name="computerwords.cwdom.nodes.CWNode.claim_children" class='header-anchor'><h4><code><span class='autodoc-identifier'>claim_children</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L58'>src</a></h4></a><div class='autodoc-method-docstring-body'>Call <code>child.set_parent(self)</code> on each child</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.set_children" name="computerwords.cwdom.nodes.CWNode.set_children" class='header-anchor'><h4><code><span class='autodoc-identifier'>set_children</span><span class='autodoc-arguments'>(children)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L63'>src</a></h4></a><div class='autodoc-method-docstring-body'>Replace <code>self.children</code> with a new list of children, and set their parent values</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.get_parent" name="computerwords.cwdom.nodes.CWNode.get_parent" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_parent</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L70'>src</a></h4></a><div class='autodoc-method-docstring-body'>Return this node&#x27;s current parent, or <code>None</code> if there isn&#x27;t one</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.set_parent" name="computerwords.cwdom.nodes.CWNode.set_parent" class='header-anchor'><h4><code><span class='autodoc-identifier'>set_parent</span><span class='autodoc-arguments'>(new_parent)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L77'>src</a></h4></a><div class='autodoc-method-docstring-body'>Set this node&#x27;s parent</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.deep_set_document_id" name="computerwords.cwdom.nodes.CWNode.deep_set_document_id" class='header-anchor'><h4><code><span class='autodoc-identifier'>deep_set_document_id</span><span class='autodoc-arguments'>(new_id)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L84'>src</a></h4></a><div class='autodoc-method-docstring-body'>Set the <code>document_id</code> of this node and all its children</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.copy" name="computerwords.cwdom.nodes.CWNode.copy" class='header-anchor'><h4><code><span class='autodoc-identifier'>copy</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L90'>src</a></h4></a><div class='autodoc-method-docstring-body'>Copy this node <i>but not its children</i></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.deepcopy" name="computerwords.cwdom.nodes.CWNode.deepcopy" class='header-anchor'><h4><code><span class='autodoc-identifier'>deepcopy</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L94'>src</a></h4></a><div class='autodoc-method-docstring-body'>Copy this node <i>and its children</i></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.deepcopy_children_from" name="computerwords.cwdom.nodes.CWNode.deepcopy_children_from" class='header-anchor'><h4><code><span class='autodoc-identifier'>deepcopy_children_from</span><span class='autodoc-arguments'>(node, at_end=False)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L100'>src</a></h4></a><div class='autodoc-method-docstring-body'>Add a deep copy of all <code>node</code>&#x27;s descendants before or after existing children</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.get_string_for_test_comparison" name="computerwords.cwdom.nodes.CWNode.get_string_for_test_comparison" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_string_for_test_comparison</span><span class='autodoc-arguments'>(inner_indentation=2)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L113'>src</a></h4></a><div class='autodoc-method-docstring-body'>Returns a string that is very convenient to compare using <code>unittest.TestCase.assertMultiLineEqual()</code></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.get_args_string_for_test_comparison" name="computerwords.cwdom.nodes.CWNode.get_args_string_for_test_comparison" class='header-anchor'><h4><code><span class='autodoc-identifier'>get_args_string_for_test_comparison</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L129'>src</a></h4></a><div class='autodoc-method-docstring-body'>Subclasses may override this to populate arguments in test strings</div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWNode.shallow_repr" name="computerwords.cwdom.nodes.CWNode.shallow_repr" class='header-anchor'><h4><code><span class='autodoc-identifier'>shallow_repr</span><span class='autodoc-arguments'>()</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L137'>src</a></h4></a><div class='autodoc-method-docstring-body'>Like <code>self.__repr__()</code>, but don&#x27;t include children</div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWRootNode" name="computerwords.cwdom.nodes.CWRootNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWRootNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L148'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Root</code></p><p>The node at the root of a <code>CWTree</code>. Its immediate children should all be instances of <code>CWDocumentNode</code>.</p></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWEmptyNode" name="computerwords.cwdom.nodes.CWEmptyNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWEmptyNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L166'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Empty</code></p><p>A node with no content. May be used instead of removing a node.</p></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWDocumentNode" name="computerwords.cwdom.nodes.CWDocumentNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWDocumentNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L183'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Document</code></p><p>A node representing a document. Its descendants can be anything but <code>CWRootNode</code> and <code>CWDocumentNode</code>.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWDocumentNode.__init__" name="computerwords.cwdom.nodes.CWDocumentNode.__init__" class='header-anchor'><h4><code><span class='autodoc-identifier'>__init__</span><span class='autodoc-arguments'>(path, children=None, document_id=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L191'>src</a></h4></a><div class='autodoc-method-docstring-body'><ul><li><p><code>path</code>: Filesystem path to this document</p></li></ul></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWTagNode" name="computerwords.cwdom.nodes.CWTagNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWTagNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L212'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: arbitrary HTML tag name</p><p>A node that can be directly converted to valid HTML.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWTagNode.__init__" name="computerwords.cwdom.nodes.CWTagNode.__init__" class='header-anchor'><h4><code><span class='autodoc-identifier'>__init__</span><span class='autodoc-arguments'>(name, kwargs, children=None, document_id=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L219'>src</a></h4></a><div class='autodoc-method-docstring-body'><ul><li><p><code>name</code>: Still the type/kind of node, but is also a valid HTML tag name.</p></li><li><p><code>kwargs</code>: Arguments/attributes parsed from the tag or inserted by processors.</p></li></ul></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWTextNode" name="computerwords.cwdom.nodes.CWTextNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWTextNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L256'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Text</code></p><p>A node that only contains text to be written to output.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWTextNode.__init__" name="computerwords.cwdom.nodes.CWTextNode.__init__" class='header-anchor'><h4><code><span class='autodoc-identifier'>__init__</span><span class='autodoc-arguments'>(text, document_id=None, escape=True)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L263'>src</a></h4></a><div class='autodoc-method-docstring-body'><ul><li><p><code>text</code>: The text</p></li><li><p><code>escape</code>: If <code>True</code>, output should be escaped in whatever the output language is. Defaults to <code>True</code>.</p></li></ul></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWAnchorNode" name="computerwords.cwdom.nodes.CWAnchorNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWAnchorNode</span><span class='autodoc-arguments'>(CWTagNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L287'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Anchor</code></p><p>A node that can be linked to via its globally unique <code>ref_id</code>. Essentially a specialized version of <code>CWTagNode(&#x27;a&#x27;, {&#x27;name&#x27;: ...})</code>.</p></div></section><section class='autodoc-method'><a href="#computerwords.cwdom.nodes.CWAnchorNode.__init__" name="computerwords.cwdom.nodes.CWAnchorNode.__init__" class='header-anchor'><h4><code><span class='autodoc-identifier'>__init__</span><span class='autodoc-arguments'>(ref_id, kwargs=None, children=None, document_id=None)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L295'>src</a></h4></a><div class='autodoc-method-docstring-body'><ul><li><p><code>ref_id</code>: Globally unique ID of this anchor</p></li></ul></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWLinkNode" name="computerwords.cwdom.nodes.CWLinkNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWLinkNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L319'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>Link</code></p><p>A node that can link to the location of a <code>CWAnchorNode</code> to via its globally unique <code>ref_id</code>.</p><p>In the future, this may become a subclass of <code>CWTagNode</code>.</p></div></section><section class='autodoc-class'><a href="#computerwords.cwdom.nodes.CWDocumentLinkNode" name="computerwords.cwdom.nodes.CWDocumentLinkNode" class='header-anchor'><h3><code><span class='autodoc-keyword'>class </span><span class='autodoc-identifier'>CWDocumentLinkNode</span><span class='autodoc-arguments'>(CWNode)</span></code><a class='autodoc-source-link' href='https://github.com/irskep/computerwords/blob/master/computerwords/cwdom/nodes.py#L347'>src</a></h3></a><div class='autodoc-class-docstring-body'><p>name: <code>DocumentLink</code></p><p>A node that can link to the location of a document without including any anchors inside the page.</p></div></section></p></article></main>
        <footer id="pagefooter"><nav class='previous-page'><a href="how_it_works.html">&larr; How it works</a></nav><nav class='next-page'><a href="related_work.html">Related Work &rarr;</a></nav><div style="clear: both;"></div></footer>
    </body>
</html>

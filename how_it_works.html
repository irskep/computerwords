<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Computer Words: A system for writing and publishing documentation</title>
        <meta name="description" content="/">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="static/normalize.css" type="text/css" /><link rel="stylesheet" href="static/default.css" type="text/css" /><link rel="stylesheet" href="style.css" type="text/css" /><link rel="stylesheet" href="static/pygments.css" type="text/css" />
    </head>
    <body>
        <header id="pageheader">
            <a class="header-link" href="http://steveasleep.com/computerwords/"><h1>Computer Words</h1></a>
            <h2>A system for writing and publishing documentation</h2>
            <div id="navheader"><nav class='previous-page'><a href="configuration.html#Configuration">&larr; Configuration</a></nav><nav class='next-page'><a href="about.html#Conceptual-information">Conceptual information &rarr;</a></nav><div style="clear: both;"></div></div>
            <hr>
        </header>
        <main id="pagebody"><article><a href="#How-it-works" name="How-it-works" class='header-anchor'><h1>How it works</h1></a><p>First, your files are parsed into a tree called the “Computer Words Document Object Model”, or <tt>CWDOM</tt>. So this:</p><figure class='code'><div class='filename'>readme.md</div><div class="highlight"><pre><span></span><span class="k"># </span><span class="gh">Title</span>

some text
</pre></div>
</figure><p>becomes this:</p><figure class='image graphviz-graph'><img src='cca5f62f9def97a413d464ccfbf90ab96e458a163237860b7ac47f90c584fcae.png'></img></figure><p>Then we apply a processor library to the graph. A <i>library</i> is a mapping of <tt>node_name -&gt; [processor]</tt>. A <i>processor</i> is a function like this:</p><figure class='code'><div class="highlight"><pre><span></span><span class="nd">@library.processor</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>  <span class="c1"># operate on &#39;xxx&#39; nodes</span>
<span class="k">def</span> <span class="nf">process_xxx</span><span class="p">(</span><span class="n">node_store</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
    <span class="c1"># you can mutate the node, its children, or its</span>
    <span class="c1"># ancestors (but not its siblings).</span>
    <span class="c1"># In this case, we are swapping the node in place for</span>
    <span class="c1"># another node, which will have the original node&#39;s</span>
    <span class="c1"># parent and children.</span>
    <span class="n">node_store</span><span class="o">.</span><span class="n">replace_node</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">CWDOMNode</span><span class="p">(</span><span class="s1">&#39;yyy&#39;</span><span class="p">))</span>
</pre></div>
</figure><p>Each node will be processed at least once, in a <i>post-order tree traversal</i> (meaning that a node will be visited before its ancestors). If a node is mutated by another node&#x27;s processor, that node will be marked <i>dirty</i> and its processors will be run again.</p></article></main>
        <footer id="pagefooter"><nav class='previous-page'><a href="configuration.html#Configuration">&larr; Configuration</a></nav><nav class='next-page'><a href="about.html#Conceptual-information">Conceptual information &rarr;</a></nav><div style="clear: both;"></div></footer>
    </body>
</html>
